summary: Actualizar cantidad en el carrito
description: |
  Modifica la cantidad de un producto existente en el carrito del usuario.
  Valida que el producto exista y que la nueva cantidad no exceda el stock disponible.
tags:
  - üõí Carrito
consumes:
  - application/json
parameters:
  - in: body
    name: datos
    required: true
    schema:
      type: object
      required:
        - id_usuario
        - id_producto
        - nueva_cantidad
      properties:
        id_usuario:
          type: integer
          description: ID del usuario
          example: 1
        id_producto:
          type: integer
          description: ID del producto
          example: 10
        nueva_cantidad:
          type: integer
          description: Nueva cantidad (debe ser > 0)
          example: 2
responses:
  200:
    description: Cantidad actualizada con √©xito
    schema:
      type: object
      properties:
        mensaje:
          type: string
          example: "Cantidad actualizada"
  400:
    description: Falta dato obligatorio, cantidad inv√°lida o stock insuficiente
    schema:
      type: object
      properties:
        error:
          type: string
          example: "La cantidad debe ser mayor a 0"
        stock_disponible:
          type: integer
          example: 5
  404:
    description: Producto no encontrado o inactivo
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Producto no encontrado o inactivo"
  500:
    description: Error interno al actualizar cantidad
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Error interno al actualizar cantidad"
