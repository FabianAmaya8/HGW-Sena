summary: Obtener carrito de compras
description: |
  Devuelve los productos activos en el carrito del usuario. Antes elimina productos
  que est√©n inactivos o con stock 0 y notifica los eliminados.
tags:
  - üõí Carrito
parameters:
  - name: id
    in: query
    type: integer
    required: true
    description: ID del usuario
    example: 1
responses:
  200:
    description: Carrito obtenido con √©xito (podr√≠a incluir notificaci√≥n de productos eliminados)
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: true
        productos:
          type: array
          items:
            type: object
            properties:
              id_producto:
                type: integer
                example: 10
              nombre_producto:
                type: string
                example: "Manzana"
              imagen_producto:
                type: string
                example: "/uploads/product_images/manzana.jpg"
              precio_producto:
                type: number
                format: float
                example: 4500.5
              cantidad_producto:
                type: integer
                example: 3
              stock:
                type: integer
                example: 10
        eliminados:
          type: array
          items:
            type: string
          description: Productos eliminados (opcional)
          example: ["Producto A", "Producto B"]
        mensaje:
          type: string
          description: Mensaje informativo (ej. carrito vac√≠o o aviso de eliminaci√≥n)
          example: "Algunos productos ya no est√°n disponibles y fueron eliminados del carrito. El carrito est√° vac√≠o."
  400:
    description: Falta ID de usuario
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Faltan datos obligatorios"
  500:
    description: Error interno al obtener el carrito
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Error al obtener el carrito"
