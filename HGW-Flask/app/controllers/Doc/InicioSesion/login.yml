summary: Iniciar sesi칩n de usuario
description: |
  Permite iniciar sesi칩n utilizando correo electr칩nico o nombre de usuario junto con una contrase침a.
  Valida credenciales, genera un token JWT y retorna informaci칩n b치sica del usuario junto
  con la ruta a la que debe ser redirigido seg칰n su rol.
tags:
  - 游닇 Registro
consumes:
  - application/json
parameters:
  - in: body
    name: credentials
    required: true
    schema:
      type: object
      required:
        - 游녻 Usuario
        - contrasena
      properties:
        usuario:
          type: string
          description: Email o nombre de usuario registrado
          example: "usuario@example.com"
        contrasena:
          type: string
          description: Contrase침a en texto plano
          example: "MiClave123"
responses:
  200:
    description: Login exitoso
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: true
        token:
          type: string
          description: Token JWT v치lido por 180 d칤as
          example: "eyJhbGciOiJIUzI1..."
        redirect:
          type: string
          description: Ruta de destino seg칰n el rol del usuario
          example: "/inicio"
        usuario:
          type: object
          properties:
            id_usuario:
              type: integer
              example: 15
            nombre:
              type: string
              example: "Fabian"
            apellido:
              type: string
              example: "Amaya"
            nombre_usuario:
              type: string
              example: "Fabian_Amaya8"
            correo_electronico:
              type: string
              example: "fabian@example.com"
            numero_telefono:
              type: string
              example: "3101234567"
            url_foto_perfil:
              type: string
              example: "https://miservidor.com/uploads/perfil.jpg"
            patrocinador:
              type: integer
              example: 5
            nombre_medio:
              type: string
              example: "Transferencia"
  400:
    description: Formato inv치lido o faltan datos
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Debes enviar usuario y contrase침a."
  401:
    description: Credenciales incorrectas
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Usuario o contrase침a incorrectos."
  500:
    description: Error interno del servidor
    schema:
      type: object
      properties:
        success:
          type: boolean
          example: false
        message:
          type: string
          example: "Error de servidor: descripci칩n del error"
